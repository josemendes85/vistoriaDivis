<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulário de Vistoria de Evento Temporário</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"></script>
    <style>
        :root {
            --primary-color: #0066cc;
            --success-color: #198754;
            --warning-color: #ffc107;
            --danger-color: #dc3545;
            --info-color: #17a2b8;
            --secondary-color: #6c757d;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f7f6;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 30px auto;
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        h1, h2, h3 {
            color: var(--primary-color);
            margin-bottom: 20px;
            text-align: center;
        }

        .form-label {
            font-weight: bold;
            color: #555;
        }

        .card {
            margin-bottom: 25px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .card-header {
            background-color: var(--primary-color);
            color: #fff;
            font-weight: bold;
            border-top-left-radius: 7px;
            border-top-right-radius: 7px;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .card-body {
            padding: 25px;
        }

        .btn {
            padding: 10px 20px;
            border-radius: 5px;
            font-weight: bold;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }

        .btn-primary {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }

        .btn-primary:hover {
            background-color: #0056b3;
            border-color: #0056b3;
            transform: translateY(-2px);
        }

        .btn-success {
            background-color: var(--success-color);
            border-color: var(--success-color);
        }

        .btn-success:hover {
            background-color: #157347;
            border-color: #157347;
            transform: translateY(-2px);
        }

        .btn-danger {
            background-color: var(--danger-color);
            border-color: var(--danger-color);
        }

        .btn-danger:hover {
            background-color: #bb2d3b;
            border-color: #bb2d3b;
            transform: translateY(-2px);
        }

        .btn-info {
            background-color: var(--info-color);
            border-color: var(--info-color);
            color: #fff;
        }

        .btn-info:hover {
            background-color: #117a8b;
            border-color: #117a8b;
            transform: translateY(-2px);
        }

        .form-check-inline {
            margin-right: 15px;
        }

        .status-badge {
            padding: 8px 12px;
            border-radius: 5px;
            font-weight: bold;
            color: #fff;
        }

        .status-conforme {
            background-color: var(--success-color);
        }

        .status-nao-conforme {
            background-color: var(--danger-color);
        }

        .status-nao-avaliado {
            background-color: var(--secondary-color);
        }

        .toast-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1050;
        }

        .toast-header {
            background-color: var(--primary-color);
            color: #fff;
        }

        .toast-body {
            background-color: #f8f9fa;
        }

        .toast.success .toast-header { background-color: var(--success-color); }
        .toast.warning .toast-header { background-color: var(--warning-color); }
        .toast.danger .toast-header { background-color: var(--danger-color); }
    </style>
</head>

<body>
    <div class="container">
        <h1 class="mb-4">Formulário de Vistoria de Evento Temporário</h1>
        <hr>

        <form id="inspectionForm">
            <div class="card mb-4">
                <div class="card-header">
                    Detalhes do Evento e da Vistoria
                </div>
                <div class="card-body">
                    <div class="mb-3">
                        <label for="nomeEvento" class="form-label">Nome do Evento:</label>
                        <input type="text" class="form-control" id="nomeEvento" name="nomeEvento" required>
                    </div>
                    <div class="mb-3">
                        <label for="localEvento" class="form-label">Local do Evento:</label>
                        <input type="text" class="form-control" id="localEvento" name="localEvento" required>
                    </div>
                    <div class="mb-3">
                        <label for="publicoEstimado" class="form-label">Público Estimado:</label>
                        <input type="number" class="form-control" id="publicoEstimado" name="publicoEstimado" min="0" required>
                        <div class="mt-2">
                            Classificação: <span id="classificacaoPublico" class="status-badge status-nao-avaliado">Não Avaliado</span>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="dataVistoria" class="form-label">Data da Vistoria:</label>
                        <input type="date" class="form-control" id="dataVistoria" name="dataVistoria" required>
                    </div>
                    <div class="mb-3">
                        <label for="fiscalResponsavel" class="form-label">Fiscal Responsável:</label>
                        <input type="text" class="form-control" id="fiscalResponsavel" name="fiscalResponsavel" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Status Geral da Vistoria:</label>
                        <div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="statusVistoria" id="statusAprovado" value="Aprovado">
                                <label class="form-check-label" for="statusAprovado">Aprovado</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="statusVistoria" id="statusReprovado" value="Reprovado">
                                <label class="form-check-label" for="statusReprovado">Reprovado</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="statusVistoria" id="statusPendente" value="Pendente" checked>
                                <label class="form-check-label" for="statusPendente">Pendente</label>
                            </div>
                        </div>
                        <div class="mt-2">
                            <textarea class="form-control" id="observacoesGerais" rows="3" placeholder="Observações gerais sobre o status da vistoria"></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card mb-4">
                <div class="card-header">
                    Checklist de Documentação e Aprovações
                </div>
                <div class="card-body">
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Licença para Eventos (Afixada/Disponível?)</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="licencaEventos" value="Sim" required>
                                <label class="form-check-label">Sim</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="licencaEventos" value="Não">
                                <label class="form-check-label">Não</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsLicencaEventos" placeholder="Observações"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Indicação da Capacidade Máxima de Público (Exposta?)</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="capMaxPublico" value="Sim" required>
                                <label class="form-check-label">Sim</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="capMaxPublico" value="Não">
                                <label class="form-check-label">Não</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsCapMaxPublico" placeholder="Observações"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Informação "Lotação Esgotada" (Exposta, se aplicável?)</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="lotacaoEsgotada" value="Sim" required>
                                <label class="form-check-label">Sim</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="lotacaoEsgotada" value="Não">
                                <label class="form-check-label">Não</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="lotacaoEsgotada" value="N/A">
                                <label class="form-check-label">N/A</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsLotacaoEsgotada" placeholder="Observações"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Laudos Técnicos e RT de Estruturas (Palcos, arquibancadas, etc.)</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="laudosRT" value="Sim" required>
                                <label class="form-check-label">Sim</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="laudosRT" value="Não">
                                <label class="form-check-label">Não</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="laudosRT" value="N/A">
                                <label class="form-check-label">N/A</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsLaudosRT" placeholder="Observações"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Contrato de Brigada Particular de Incêndio</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="contratoBrigada" value="Sim" required>
                                <label class="form-check-label">Sim</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="contratoBrigada" value="Não">
                                <label class="form-check-label">Não</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="contratoBrigada" value="N/A">
                                <label class="form-check-label">N/A</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsContratoBrigada" placeholder="Observações"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Credenciamento da Empresa de Brigada de Incêndio (CBMDF)</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="credenciamentoBrigada" value="Sim" required>
                                <label class="form-check-label">Sim</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="credenciamentoBrigada" value="Não">
                                <label class="form-check-label">Não</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="credenciamentoBrigada" value="N/A">
                                <label class="form-check-label">N/A</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsCredenciamentoBrigada" placeholder="Observações"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Certificados dos Brigadistas</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="certificadosBrigadistas" value="Sim" required>
                                <label class="form-check-label">Sim</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="certificadosBrigadistas" value="Não">
                                <label class="form-check-label">Não</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="certificadosBrigadistas" value="N/A">
                                <label class="form-check-label">N/A</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsCertificadosBrigadistas" placeholder="Observações"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Comprovante de Disponibilidade de Grupo Gerador (Se previsto)</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="grupoGerador" value="Sim" required>
                                <label class="form-check-label">Sim</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="grupoGerador" value="Não">
                                <label class="form-check-label">Não</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="grupoGerador" value="N/A">
                                <label class="form-check-label">N/A</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsGrupoGerador" placeholder="Observações"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Memorial Descritivo do Evento</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="memorialDescritivo" value="Sim" required>
                                <label class="form-check-label">Sim</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="memorialDescritivo" value="Não">
                                <label class="form-check-label">Não</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="memorialDescritivo" value="N/A">
                                <label class="form-check-label">N/A</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsMemorialDescritivo" placeholder="Observações"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Termo de Declaração e Responsabilidade</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="termoDeclaracao" value="Sim" required>
                                <label class="form-check-label">Sim</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="termoDeclaracao" value="Não">
                                <label class="form-check-label">Não</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="termoDeclaracao" value="N/A">
                                <label class="form-check-label">N/A</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsTermoDeclaracao" placeholder="Observações"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Projeto Básico para Evento Temporário (PBET) Aprovado (Se exigido)</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="pbetAprovado" value="Sim" required>
                                <label class="form-check-label">Sim</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="pbetAprovado" value="Não">
                                <label class="form-check-label">Não</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="pbetAprovado" value="N/A">
                                <label class="form-check-label">N/A</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsPbetAprovado" placeholder="Observações"></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card mb-4">
                <div class="card-header">
                    Checklist de Medidas de Segurança Contra Incêndio e Pânico (NT 09/2022-CBMDF, Item 6.1)
                </div>
                <div class="card-body">
                    <h5 class="mb-3">Saídas de Emergência</h5>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Dimensionamento adequado</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="saidasDimensionamento" value="Conforme" required>
                                <label class="form-check-label">Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="saidasDimensionamento" value="Não Conforme">
                                <label class="form-check-label">Não Conforme</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsSaidasDimensionamento" placeholder="Observações"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Elevadores/Escadas Rolantes não consideradas saídas</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="saidasElevadores" value="Conforme" required>
                                <label class="form-check-label">Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="saidasElevadores" value="Não Conforme">
                                <label class="form-check-label">Não Conforme</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsSaidasElevadores" placeholder="Observações"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Catracas não computadas como saídas</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="saidasCatracas" value="Conforme" required>
                                <label class="form-check-label">Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="saidasCatracas" value="Não Conforme">
                                <label class="form-check-label">Não Conforme</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsSaidasCatracas" placeholder="Observações"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Número mínimo de 02 saídas</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="saidasNumero" value="Conforme" required>
                                <label class="form-check-label">Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="saidasNumero" value="Não Conforme">
                                <label class="form-check-label">Não Conforme</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsSaidasNumero" placeholder="Observações"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Saídas localizadas em lados distintos (ângulo mínimo 45°)</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="saidasPosicionamento" value="Conforme" required>
                                <label class="form-check-label">Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="saidasPosicionamento" value="Não Conforme">
                                <label class="form-check-label">Não Conforme</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsSaidasPosicionamento" placeholder="Observações"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Portas/portões abrindo no sentido de fuga, ou com dispositivos</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="saidasAberturaPortas" value="Conforme" required>
                                <label class="form-check-label">Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="saidasAberturaPortas" value="Não Conforme">
                                <label class="form-check-label">Não Conforme</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsSaidasAberturaPortas" placeholder="Observações"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Portas/portões não obstruindo rotas de circulação</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="saidasObstrucaoRotas" value="Conforme" required>
                                <label class="form-check-label">Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="saidasObstrucaoRotas" value="Não Conforme">
                                <label class="form-check-label">Não Conforme</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsSaidasObstrucaoRotas" placeholder="Observações"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Afastamento de 5,0m de locais de aglomeração</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="saidasAfastamento" value="Conforme" required>
                                <label class="form-check-label">Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="saidasAfastamento" value="Não Conforme">
                                <label class="form-check-label">Não Conforme</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsSaidasAfastamento" placeholder="Observações"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Espaço de trânsito de veículos distinto de pedestres</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="saidasTransito" value="Conforme" required>
                                <label class="form-check-label">Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="saidasTransito" value="Não Conforme">
                                <label class="form-check-label">Não Conforme</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsSaidasTransito" placeholder="Observações"></textarea>
                        </div>
                    </div>

                    <hr class="my-4">

                    <h5 class="mb-3">Escadas e Rampas</h5>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Inclinação das Rampas (max. 10%, patamar a cada 15m)</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="rampasInclinacao" value="Conforme" required>
                                <label class="form-check-label">Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="rampasInclinacao" value="Não Conforme">
                                <label class="form-check-label">Não Conforme</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsRampasInclinacao" placeholder="Observações"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Largura Mínima (1,20m)</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="escadasRampasLargura" value="Conforme" required>
                                <label class="form-check-label">Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="escadasRampasLargura" value="Não Conforme">
                                <label class="form-check-label">Não Conforme</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsEscadasRampasLargura" placeholder="Observações"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Corrimãos Intermediários (se largura >= 2,40m)</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="corrimãos" value="Conforme" required>
                                <label class="form-check-label">Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="corrimãos" value="Não Conforme">
                                <label class="form-check-label">Não Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="corrimãos" value="N/A">
                                <label class="form-check-label">N/A</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsCorrimãos" placeholder="Observações"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Altura dos Degraus (h entre 15cm e 19cm)</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="degrausAltura" value="Conforme" required>
                                <label class="form-check-label">Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="degrausAltura" value="Não Conforme">
                                <label class="form-check-label">Não Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="degrausAltura" value="N/A">
                                <label class="form-check-label">N/A</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsDegrausAltura" placeholder="Observações"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Rampas obrigatórias para PNE</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="rampasPNE" value="Conforme" required>
                                <label class="form-check-label">Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="rampasPNE" value="Não Conforme">
                                <label class="form-check-label">Não Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="rampasPNE" value="N/A">
                                <label class="form-check-label">N/A</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsRampasPNE" placeholder="Observações"></textarea>
                        </div>
                    </div>

                    <hr class="my-4">

                    <h5 class="mb-3">Distância Máxima a Percorrer</h5>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Arquibancadas (máx. 60m até via pública/espaço seguro)</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="distArquibancadas" value="Conforme" required>
                                <label class="form-check-label">Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="distArquibancadas" value="Não Conforme">
                                <label class="form-check-label">Não Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="distArquibancadas" value="N/A">
                                <label class="form-check-label">N/A</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsDistArquibancadas" placeholder="Observações"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Setores de Arquibancadas (máx. 7m até acesso radial)</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="distSetoresArquibancadas" value="Conforme" required>
                                <label class="form-check-label">Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="distSetoresArquibancadas" value="Não Conforme">
                                <label class="form-check-label">Não Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="distSetoresArquibancadas" value="N/A">
                                <label class="form-check-label">N/A</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsDistSetoresArquibancadas" placeholder="Observações"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Locais Descobertos com Barreiras (máx. 120m até via pública/espaço seguro)</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="distLocaisDescobertos" value="Conforme" required>
                                <label class="form-check-label">Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="distLocaisDescobertos" value="Não Conforme">
                                <label class="form-check-label">Não Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="distLocaisDescobertos" value="N/A">
                                <label class="form-check-label">N/A</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsDistLocaisDescobertos" placeholder="Observações"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Construções Provisórias Fechadas (máx. 35m até ambiente exterior)</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="distConstrucoesProvisorias" value="Conforme" required>
                                <label class="form-check-label">Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="distConstrucoesProvisorias" value="Não Conforme">
                                <label class="form-check-label">Não Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="distConstrucoesProvisorias" value="N/A">
                                <label class="form-check-label">N/A</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsDistConstrucoesProvisorias" placeholder="Observações"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Sinalização de Emergência</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="sinalizacaoEmergencia" value="Conforme" required>
                                <label class="form-check-label">Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="sinalizacaoEmergencia" value="Não Conforme">
                                <label class="form-check-label">Não Conforme</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsSinalizacaoEmergencia" placeholder="Observações"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Iluminação de Emergência</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="iluminacaoEmergencia" value="Conforme" required>
                                <label class="form-check-label">Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="iluminacaoEmergencia" value="Não Conforme">
                                <label class="form-check-label">Não Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="iluminacaoEmergencia" value="N/A">
                                <label class="form-check-label">N/A</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsIluminacaoEmergencia" placeholder="Observações"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Instalações Elétricas</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="instalacoesEletricas" value="Conforme" required>
                                <label class="form-check-label">Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="instalacoesEletricas" value="Não Conforme">
                                <label class="form-check-label">Não Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="instalacoesEletricas" value="N/A">
                                <label class="form-check-label">N/A</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsInstalacoesEletricas" placeholder="Observações"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Utilização de GLP</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="utilizacaoGLP" value="Conforme" required>
                                <label class="form-check-label">Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="utilizacaoGLP" value="Não Conforme">
                                <label class="form-check-label">Não Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="utilizacaoGLP" value="N/A">
                                <label class="form-check-label">N/A</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsUtilizacaoGLP" placeholder="Observações"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Estabilidade Estrutural de Palcos e Arquibancadas</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="estabilidadeEstrutural" value="Conforme" required>
                                <label class="form-check-label">Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="estabilidadeEstrutural" value="Não Conforme">
                                <label class="form-check-label">Não Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="estabilidadeEstrutural" value="N/A">
                                <label class="form-check-label">N/A</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsEstabilidadeEstrutural" placeholder="Observações"></textarea>
                        </div>
                    </div>
                    <div class="row mb-3 align-items-center">
                        <div class="col-md-6">
                            <label class="form-label">Características dos Materiais de Construção e Acabamento</label>
                        </div>
                        <div class="col-md-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="materiaisConstrucao" value="Conforme" required>
                                <label class="form-check-label">Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="materiaisConstrucao" value="Não Conforme">
                                <label class="form-check-label">Não Conforme</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="materiaisConstrucao" value="N/A">
                                <label class="form-check-label">N/A</label>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <textarea class="form-control" rows="1" name="obsMateriaisConstrucao" placeholder="Observações"></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <div class="d-grid gap-2 d-md-flex justify-content-md-end mb-4">
                <button type="button" id="btnSalvar" class="btn btn-primary"><i class="bi bi-save"></i> Salvar Vistoria</button>
                <button type="button" id="btnCarregar" class="btn btn-info"><i class="bi bi-folder2-open"></i> Carregar Vistoria</button>
                <button type="button" id="btnExcluir" class="btn btn-danger"><i class="bi bi-trash"></i> Excluir Vistoria</button>
                <button type="button" id="btnGerar" class="btn btn-success"><i class="bi bi-file-earmark-text"></i> Gerar Relatório</button>
                <button type="button" id="btnLimpar" class="btn btn-secondary"><i class="bi bi-eraser"></i> Limpar Formulário</button>
            </div>
        </form>
    </div>

    <div class="toast-container position-fixed top-0 end-0 p-3"></div>

    <script>
        // Utility for toasts
        const Utils = {
            showToast: (message, type = 'info') => {
                const toastContainer = document.querySelector('.toast-container');
                const toastId = `toast-${Date.now()}`;
                const toastHtml = `
                    <div id="${toastId}" class="toast align-items-center text-white bg-secondary border-0 ${type}" role="alert" aria-live="assertive" aria-atomic="true">
                        <div class="d-flex">
                            <div class="toast-body">
                                ${message}
                            </div>
                            <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
                        </div>
                    </div>
                `;
                toastContainer.insertAdjacentHTML('beforeend', toastHtml);
                const toastElement = document.getElementById(toastId);
                const toast = new bootstrap.Toast(toastElement);
                toast.show();
            }
        };

        const form = document.getElementById('inspectionForm');
        const publicoEstimadoInput = document.getElementById('publicoEstimado');
        const classificacaoPublicoSpan = document.getElementById('classificacaoPublico');

        // Function to classify public
        const classifyPublic = () => {
            const publico = parseInt(publicoEstimadoInput.value);
            let classification = 'Não Avaliado';
            let badgeClass = 'status-nao-avaliado';

            if (!isNaN(publico)) {
                if (publico <= 1000) {
                    classification = 'Pequeno';
                    badgeClass = 'status-success';
                } else if (publico <= 10000) {
                    classification = 'Médio';
                    badgeClass = 'status-warning';
                } else if (publico <= 30000) {
                    classification = 'Grande';
                    badgeClass = 'status-danger';
                } else {
                    classification = 'Especial';
                    badgeClass = 'status-danger';
                }
            }
            classificacaoPublicoSpan.textContent = classification;
            classificacaoPublicoSpan.className = `status-badge ${badgeClass}`;
        };

        publicoEstimadoInput.addEventListener('input', classifyPublic);


        // Function to collect form data
        const coletarDadosDoFormulario = () => {
            const dados = {};
            new FormData(form).forEach((value, key) => {
                dados[key] = value;
            });

            // Handle textareas separately as FormData doesn't capture their 'name' if empty
            form.querySelectorAll('textarea').forEach(textarea => {
                dados[textarea.name] = textarea.value;
            });

            // Add the classification for the report
            dados['classificacaoPublico'] = classificacaoPublicoSpan.textContent;

            return dados;
        };

        // Function to populate form from data
        const preencherFormulario = (dados) => {
            for (const key in dados) {
                const element = form.elements[key];
                if (element) {
                    if (element.type === 'radio') {
                        const radioBtn = form.querySelector(`input[name="${key}"][value="${dados[key]}"]`);
                        if (radioBtn) {
                            radioBtn.checked = true;
                        }
                    } else if (element.type === 'textarea') {
                        element.value = dados[key];
                    } else {
                        element.value = dados[key];
                    }
                }
            }
            classifyPublic(); // Recalculate classification after loading data
        };

        // Save button
        document.getElementById('btnSalvar').addEventListener('click', () => {
            const nomeEvento = document.getElementById('nomeEvento').value;
            if (!nomeEvento) {
                Utils.showToast("Preencha o 'Nome do Evento' para salvar.", "warning");
                return;
            }
            const dadosDoFormulario = coletarDadosDoFormulario();
            localStorage.setItem(`vistoria-${nomeEvento}`, JSON.stringify(dadosDoFormulario));
            Utils.showToast("Vistoria salva com sucesso!", "success");
        });

        // Load button
        document.getElementById('btnCarregar').addEventListener('click', () => {
            const nomeEvento = document.getElementById('nomeEvento').value;
            if (!nomeEvento) {
                Utils.showToast("Preencha o 'Nome do Evento' que deseja carregar.", "warning");
                return;
            }
            const dadosSalvos = localStorage.getItem(`vistoria-${nomeEvento}`);
            if (dadosSalvos) {
                preencherFormulario(JSON.parse(dadosSalvos));
                Utils.showToast("Vistoria carregada com sucesso!", "success");
            } else {
                Utils.showToast("Nenhuma vistoria encontrada com este nome.", "warning");
            }
        });

        // Delete button
        document.getElementById('btnExcluir').addEventListener('click', () => {
            const nomeEvento = document.getElementById('nomeEvento').value;
            if (!nomeEvento) {
                Utils.showToast("Preencha o 'Nome do Evento' que deseja excluir.", "warning");
                return;
            }

            if (confirm(`Deseja realmente excluir a vistoria "${nomeEvento}"?`)) {
                localStorage.removeItem(`vistoria-${nomeEvento}`);
                form.reset();
                classifyPublic(); // Reset classification
                Utils.showToast("Vistoria excluída!", "success");
            }
        });

        // Generate Report button
        document.getElementById('btnGerar').addEventListener('click', () => {
            const dadosDoFormulario = coletarDadosDoFormulario();
            localStorage.setItem('dadosRelatorioVistoria', JSON.stringify(dadosDoFormulario));
            // In a real application, you would redirect to a report page here
            // window.location.href = 'relatorio_vistoria.html';
            Utils.showToast("Dados coletados para o relatório (visualize no console F12 > Console).", "info");
            console.log("Dados coletados para o relatório:", dadosDoFormulario);
        });

        // Clear Form button
        document.getElementById('btnLimpar').addEventListener('click', () => {
            form.reset();
            classifyPublic(); // Reset classification
            Utils.showToast("Formulário limpo!", "info");
        });

        // Initialize classification on page load
        document.addEventListener('DOMContentLoaded', () => {
            classifyPublic();
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>