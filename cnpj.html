<script>
    function consultarCNPJ_JSONP(cnpj) {
    const cnpjLimpo = cnpj.replace(/\D/g, '');

    // 1. Cria o nome da função callback que a API chamará
    const callbackName = 'callback_cnpj_' + Date.now();

    // 2. Define a função callback no escopo global (window)
    window[callbackName] = function(dados) {
        console.log("Dados Recebidos via JSONP:", dados);
        // Você trata os dados aqui.
        
        // Limpa a função e o script tag
        delete window[callbackName];
        script.remove();
    };

    // 3. Cria o elemento script
    const script = document.createElement('script');
    
    // 4. A API externa retorna o código JavaScript que chama a função 'callbackName'
    script.src = `https://www.receitaws.com.br/v1/cnpj/${cnpjLimpo}?callback=${callbackName}`;
    
    // 5. Insere o script no documento para executar a chamada
    document.head.appendChild(script);
}

// Exemplo de uso
consultarCNPJ_JSONP("06990590000123");
</script>